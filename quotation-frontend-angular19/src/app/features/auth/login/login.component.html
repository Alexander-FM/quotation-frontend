<p-toast position="top-right"></p-toast>

<div class="login-container">
  <div class="login-panel">
    <div class="login-header text-center mb-4">
      <div class="logo mb-3">
        <span class="text-primary font-bold text-6xl">Q</span>
      </div>
      <h1 class="text-3xl font-bold m-0">Quotation</h1>
      <p class="text-color-secondary mt-2">Sistema de Gestión</p>
    </div>

    <p-card>
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <div class="field mb-4">
          <label for="username" class="block mb-2 font-semibold">Usuario</label>
          <input
            id="username"
            type="text"
            pInputText
            formControlName="username"
            class="w-full"
            placeholder="Ingrese su usuario"
            [class.ng-invalid]="loginForm.get('username')?.invalid && loginForm.get('username')?.touched"
            [class.ng-dirty]="loginForm.get('username')?.touched"
          />
          <small
            class="p-error block mt-1"
            *ngIf="loginForm.get('username')?.invalid && loginForm.get('username')?.touched">
            El usuario es requerido
          </small>
        </div>

        <div class="field mb-4">
          <label for="password" class="block mb-2 font-semibold">Contraseña</label>
          <p-password
            id="password"
            formControlName="password"
            [toggleMask]="true"
            [feedback]="false"
            placeholder="Ingrese su contraseña"
            styleClass="w-full"
            [inputStyleClass]="'w-full'"
            [class.ng-invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
            [class.ng-dirty]="loginForm.get('password')?.touched"
          ></p-password>
          <small
            class="p-error block mt-1"
            *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
            La contraseña es requerida
          </small>
        </div>

        <p-button
          label="Iniciar Sesión"
          icon="pi pi-sign-in"
          [loading]="loading"
          type="submit"
          styleClass="w-full"
          [disabled]="loginForm.invalid"
        ></p-button>
      </form>
    </p-card>

    <div class="text-center mt-4 text-color-secondary text-sm">
      <p>© 2025 Quotation - Sistema de Gestión</p>
    </div>
  </div>
</div>
